import{_ as o,c as e,b as a,d as n,e as p,w as t,a as c,r,o as i}from"./app-B2IiQkpQ.js";const D={},d={class:"custom-container tip"};function y(u,s){const l=r("RouteLink");return i(),e("div",null,[s[4]||(s[4]=a("h1",{id:"快速开始",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#快速开始"},[a("span",null,"快速开始")])],-1)),a("div",d,[s[3]||(s[3]=a("p",{class:"custom-container-title"},"提示",-1)),a("p",null,[s[1]||(s[1]=n("本章仅介绍如何快速上手 SpEL Validator 的基本使用，更详细的使用说明请参考 ")),p(l,{to:"/guide/user-guide.html"},{default:t(()=>s[0]||(s[0]=[n("使用指南")])),_:1}),s[2]||(s[2]=n("。"))])]),s[5]||(s[5]=c(`<h2 id="添加依赖" tabindex="-1"><a class="header-anchor" href="#添加依赖"><span>添加依赖</span></a></h2><p>Latest Version: <a href="https://central.sonatype.com/search?q=g:cn.sticki%20a:spel-validator-root" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/maven-central/v/cn.sticki/spel-validator-root.svg" alt="Maven Central"></a></p><h3 id="springboot-2-x" tabindex="-1"><a class="header-anchor" href="#springboot-2-x"><span>SpringBoot 2.x</span></a></h3><div class="language-xml" data-highlighter="shiki" data-ext="xml" data-title="xml" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#808080;">  &lt;</span><span style="color:#569CD6;">dependency</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">groupId</span><span style="color:#808080;">&gt;</span><span style="color:#D4D4D4;">cn.sticki</span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">groupId</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">artifactId</span><span style="color:#808080;">&gt;</span><span style="color:#D4D4D4;">spel-validator-javax</span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">artifactId</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">version</span><span style="color:#808080;">&gt;</span><span style="color:#D4D4D4;">0.4.0-beta</span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">version</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">  &lt;/</span><span style="color:#569CD6;">dependency</span><span style="color:#808080;">&gt;</span></span></code></pre></div><h3 id="springboot-3-x" tabindex="-1"><a class="header-anchor" href="#springboot-3-x"><span>SpringBoot 3.x</span></a></h3><div class="language-xml" data-highlighter="shiki" data-ext="xml" data-title="xml" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#808080;">  &lt;</span><span style="color:#569CD6;">dependency</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">groupId</span><span style="color:#808080;">&gt;</span><span style="color:#D4D4D4;">cn.sticki</span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">groupId</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">artifactId</span><span style="color:#808080;">&gt;</span><span style="color:#D4D4D4;">spel-validator-jakarta</span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">artifactId</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">version</span><span style="color:#808080;">&gt;</span><span style="color:#D4D4D4;">0.4.0-beta</span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">version</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">  &lt;/</span><span style="color:#569CD6;">dependency</span><span style="color:#808080;">&gt;</span></span></code></pre></div><h2 id="添加启动注解" tabindex="-1"><a class="header-anchor" href="#添加启动注解"><span>添加启动注解</span></a></h2><p>在接口参数上对需要进行校验的类使用 <code>@Valid</code> 或 <code>@Validated</code> 注解</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#D4D4D4;">@</span><span style="color:#4EC9B0;">RestController</span></span>
<span class="line"><span style="color:#D4D4D4;">@</span><span style="color:#4EC9B0;">RequestMapping</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;/example&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#569CD6;">public</span><span style="color:#569CD6;"> class</span><span style="color:#4EC9B0;"> ExampleController</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">  /**</span></span>
<span class="line"><span style="color:#6A9955;">   * 简单校验示例，这里使用了 @Valid 注解</span></span>
<span class="line"><span style="color:#6A9955;">   */</span></span>
<span class="line"><span style="color:#D4D4D4;">  @</span><span style="color:#4EC9B0;">PostMapping</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;/simple&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#569CD6;">  public</span><span style="color:#4EC9B0;"> Resp</span><span style="color:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;">Void</span><span style="color:#D4D4D4;">&gt; </span><span style="color:#DCDCAA;">simple</span><span style="color:#D4D4D4;">(@</span><span style="color:#4EC9B0;">RequestBody</span><span style="color:#D4D4D4;"> @</span><span style="color:#4EC9B0;">Valid</span><span style="color:#4EC9B0;"> SimpleExampleParamVo</span><span style="color:#9CDCFE;"> simpleExampleParamVo</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#C586C0;">    return</span><span style="color:#9CDCFE;"> Resp</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">ok</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">null</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="添加spel约束注解" tabindex="-1"><a class="header-anchor" href="#添加spel约束注解"><span>添加SpEL约束注解</span></a></h2><p>在实体类上使用 <code>@SpelValid</code> 注解，表示开启校验，同时在需要校验的字段上使用 <code>@SpelNotNull</code> 等约束注解</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#D4D4D4;">@</span><span style="color:#4EC9B0;">Data</span></span>
<span class="line"><span style="color:#D4D4D4;">@</span><span style="color:#4EC9B0;">SpelValid</span><span style="color:#6A9955;"> // 添加启动注解</span></span>
<span class="line"><span style="color:#569CD6;">public</span><span style="color:#569CD6;"> class</span><span style="color:#4EC9B0;"> SimpleExampleParamVo</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">  @</span><span style="color:#4EC9B0;">NotNull</span></span>
<span class="line"><span style="color:#569CD6;">  private</span><span style="color:#4EC9B0;"> Boolean</span><span style="color:#9CDCFE;"> switchAudio</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">  /**</span></span>
<span class="line"><span style="color:#6A9955;">   * 此处开启了注解校验</span></span>
<span class="line"><span style="color:#6A9955;">   * 当 switchAudio 字段为 true 时，校验 audioContent，audioContent 不能为null</span></span>
<span class="line"><span style="color:#6A9955;">   */</span></span>
<span class="line"><span style="color:#D4D4D4;">  @</span><span style="color:#4EC9B0;">SpelNotNull</span><span style="color:#D4D4D4;">(condition = </span><span style="color:#CE9178;">&quot;#this.switchAudio == true&quot;</span><span style="color:#D4D4D4;">, message = </span><span style="color:#CE9178;">&quot;语音内容不能为空&quot;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"><span style="color:#569CD6;">  private</span><span style="color:#4EC9B0;"> Object</span><span style="color:#9CDCFE;"> audioContent</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="处理异常" tabindex="-1"><a class="header-anchor" href="#处理异常"><span>处理异常</span></a></h2><p>添加全局异常处理器，处理校验不通过的异常信息</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#D4D4D4;">@</span><span style="color:#4EC9B0;">RestControllerAdvice</span></span>
<span class="line"><span style="color:#569CD6;">public</span><span style="color:#569CD6;"> class</span><span style="color:#4EC9B0;"> ControllerExceptionAdvice</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">  @</span><span style="color:#4EC9B0;">ExceptionHandler</span><span style="color:#D4D4D4;">({</span><span style="color:#9CDCFE;">BindException</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">class</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">MethodArgumentNotValidException</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">class</span><span style="color:#D4D4D4;">})</span></span>
<span class="line"><span style="color:#569CD6;">  public</span><span style="color:#4EC9B0;"> Resp</span><span style="color:#D4D4D4;">&lt;</span><span style="color:#4EC9B0;">Void</span><span style="color:#D4D4D4;">&gt; </span><span style="color:#DCDCAA;">handleBindException</span><span style="color:#D4D4D4;">(</span><span style="color:#4EC9B0;">BindException</span><span style="color:#9CDCFE;"> ex</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#4EC9B0;">    String</span><span style="color:#9CDCFE;"> msg</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">ex</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getFieldErrors</span><span style="color:#D4D4D4;">().</span><span style="color:#DCDCAA;">stream</span><span style="color:#D4D4D4;">()</span></span>
<span class="line"><span style="color:#D4D4D4;">        .</span><span style="color:#DCDCAA;">map</span><span style="color:#D4D4D4;">(error </span><span style="color:#569CD6;">-&gt;</span><span style="color:#9CDCFE;"> error</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getField</span><span style="color:#D4D4D4;">() + </span><span style="color:#CE9178;">&quot; &quot;</span><span style="color:#D4D4D4;"> + </span><span style="color:#9CDCFE;">error</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getDefaultMessage</span><span style="color:#D4D4D4;">())</span></span>
<span class="line"><span style="color:#D4D4D4;">        .</span><span style="color:#DCDCAA;">reduce</span><span style="color:#D4D4D4;">((s1, s2) </span><span style="color:#569CD6;">-&gt;</span><span style="color:#D4D4D4;"> s1 + </span><span style="color:#CE9178;">&quot;,&quot;</span><span style="color:#D4D4D4;"> + s2)</span></span>
<span class="line"><span style="color:#D4D4D4;">        .</span><span style="color:#DCDCAA;">orElse</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;&quot;</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#C586C0;">    return</span><span style="color:#C586C0;"> new</span><span style="color:#4EC9B0;"> Resp</span><span style="color:#D4D4D4;">&lt;&gt;(</span><span style="color:#B5CEA8;">400</span><span style="color:#D4D4D4;">, msg);</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="请求示例" tabindex="-1"><a class="header-anchor" href="#请求示例"><span>请求示例</span></a></h2><p>发起请求，即可看到校验结果</p><p>示例一：@SpelNotNull 校验不通过</p><ul><li><p>请求体：</p><div class="language-json" data-highlighter="shiki" data-ext="json" data-title="json" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;switchAudio&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">true</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;audioContent&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">null</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre></div></li><li><p>响应体</p><div class="language-json" data-highlighter="shiki" data-ext="json" data-title="json" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;code&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">400</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;message&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;audioContent 语音内容不能为空&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;data&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">null</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre></div></li></ul><p>示例二：校验通过</p><ul><li><p>请求体</p><div class="language-json" data-highlighter="shiki" data-ext="json" data-title="json" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;switchAudio&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">false</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;audioContent&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">null</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre></div></li><li><p>响应体</p><div class="language-json" data-highlighter="shiki" data-ext="json" data-title="json" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;code&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">200</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;message&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;成功&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;data&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">null</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre></div></li></ul><p>示例三：@NotNull 校验不通过</p><ul><li><p>请求体</p><div class="language-json" data-highlighter="shiki" data-ext="json" data-title="json" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;switchAudio&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">null</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;audioContent&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">null</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre></div></li><li><p>响应体</p><div class="language-json" data-highlighter="shiki" data-ext="json" data-title="json" style="background-color:#1E1E1E;color:#D4D4D4;"><pre class="shiki dark-plus vp-code"><code><span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;code&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">400</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;message&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;switchAudio 不能为null&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#9CDCFE;">  &quot;data&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">null</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span></code></pre></div></li></ul>`,23))])}const v=o(D,[["render",y],["__file","getting-started.html.vue"]]),g=JSON.parse('{"path":"/guide/getting-started.html","title":"快速开始","lang":"zh-CN","frontmatter":{"description":"快速开始 提示 本章仅介绍如何快速上手 SpEL Validator 的基本使用，更详细的使用说明请参考 。 添加依赖 Latest Version: Maven Central SpringBoot 2.x SpringBoot 3.x 添加启动注解 在接口参数上对需要进行校验的类使用 @Valid 或 @Validated 注解 添加SpEL约束注...","head":[["meta",{"property":"og:url","content":"https://spel-validator.sticki.cn/guide/getting-started.html"}],["meta",{"property":"og:site_name","content":"SpEL Validator"}],["meta",{"property":"og:title","content":"快速开始"}],["meta",{"property":"og:description","content":"快速开始 提示 本章仅介绍如何快速上手 SpEL Validator 的基本使用，更详细的使用说明请参考 。 添加依赖 Latest Version: Maven Central SpringBoot 2.x SpringBoot 3.x 添加启动注解 在接口参数上对需要进行校验的类使用 @Valid 或 @Validated 注解 添加SpEL约束注..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img.shields.io/maven-central/v/cn.sticki/spel-validator-root.svg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-08T02:00:47.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-08T02:00:47.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"快速开始\\",\\"image\\":[\\"https://img.shields.io/maven-central/v/cn.sticki/spel-validator-root.svg\\"],\\"dateModified\\":\\"2024-11-08T02:00:47.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"添加依赖","slug":"添加依赖","link":"#添加依赖","children":[{"level":3,"title":"SpringBoot 2.x","slug":"springboot-2-x","link":"#springboot-2-x","children":[]},{"level":3,"title":"SpringBoot 3.x","slug":"springboot-3-x","link":"#springboot-3-x","children":[]}]},{"level":2,"title":"添加启动注解","slug":"添加启动注解","link":"#添加启动注解","children":[]},{"level":2,"title":"添加SpEL约束注解","slug":"添加spel约束注解","link":"#添加spel约束注解","children":[]},{"level":2,"title":"处理异常","slug":"处理异常","link":"#处理异常","children":[]},{"level":2,"title":"请求示例","slug":"请求示例","link":"#请求示例","children":[]}],"git":{"updatedTime":1731031247000,"contributors":[{"name":"阿杆","email":"sticki@qq.com","commits":6}]},"autoDesc":true,"filePathRelative":"guide/getting-started.md"}');export{v as comp,g as data};
